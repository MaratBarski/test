<div class="wrapper">
    <main>
        <md-page-title>Imported files</md-page-title>
        <md-page-body>
            <div class="admin-table-wrap__action">
                <div class="admin-table-wrap__col">
                    <mdc-button (click)="openFileUpload()" text="+ {{'NewFile'|translate}}">
                    </mdc-button>
                    <div style="display: none;">
                        <mdc-download #downloader></mdc-download>
                    </div>
                </div>
                <div mdAnimationSticky class="admin-table-wrap__col">
                    <div class="tabs-page">
                        <mdc-date-filter #dateFilter (onFilter)="dateFilterData($event)" [dataSource]="fileSource"
                            [items]="dateRanges"></mdc-date-filter>
                    </div>
                    <div class="form-search d-none d-md-block">
                        <mdc-auto-search pause="500" #search placeholder="{{'search'|translate}}"></mdc-auto-search>
                    </div>
                </div>
            </div>
            <mdc-table #table (onAction)="onAction($event)" [rowInfoTemplate]="rowInfoTemplate"
                [emptyState]="emptyState" [downloader]="downloader"
                [cellsTemplate]="{ insertDate:dateColumn,shared:sharedColumn}" [searchOptions]="searchOptions"
                [paginator]="paginator" [search]="search" [dataSource]="dataSource">
            </mdc-table>
            <div class="pager-wrap">
                <mdc-paginator #paginator paginationTitle="{{'paginationTitle'|translate}}"
                    noPagingTitle="Showing {0} files" [blockSize]="3" [pageSize]="50" [currentPage]="0">
                </mdc-paginator>
            </div>
        </md-page-body>
    </main>
</div>

<ng-template #rowInfoTemplate let-item>
    <div style="width:900px;border:1px solid red">
        {{item.source|json}}
    </div>
</ng-template>

<mdc-popup #dateRangeSelector position="bottom-left" [closeOnClick]="false">
    <mdc-date-range-selector [from]="customFrom" [to]="customTo" (onApply)="applyCustomDate($event)"
        (onCancel)="cancelCustomDate()"></mdc-date-range-selector>
</mdc-popup>
<mdc-modal-window [hidden]="!showUploadFile">
    <md-upload-file #fileUploader [templates]="templates" (onUpload)="showUploadFile=false"
        (onCancel)="showUploadFile=false"></md-upload-file>
</mdc-modal-window>
<ng-template #dateColumn let-item>
    {{item.insertDate|date}}
</ng-template>
<ng-template #sharedColumn let-item>
    <div class="shared-icon" *ngIf="item.shared">
        <div class="shared-icon-inner">
            <mdc-icon path="ic-shared"></mdc-icon>
        </div>
    </div>
</ng-template>