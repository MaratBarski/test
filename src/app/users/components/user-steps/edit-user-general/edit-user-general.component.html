<div class="user-details__content-wrap">
    <div class="user-details__content">
        <div class="user-details__info">
            <div class="user-details-main">
                <div *ngIf="userEditService.securityType===1" class="user-details-main__item">
                    <div class="user-details-main__label">Username:</div>
                    <div class="user-details-main__field">
                        <md-user-name-selector (onSelect)="selectUser($event)" [users]="users"></md-user-name-selector>
                    </div>
                </div>
                <md-input-item *ngIf="userEditService.securityType===0" [(ngModel)]="userEditService.user.userName"
                    [isError]="userEditService.missingItem.userName.isError"
                    [isMissing]="userEditService.missingItem.userName.isError" placeHolder="Type user name"
                    missingText="Missing user name" label="User Name:" class="user-details-main__item">
                </md-input-item>

                <md-input-item *ngIf="userEditService.securityType===0" [(ngModel)]="userEditService.user.password"
                    [isError]="userEditService.missingItem.password.isError" type="password"
                    [isMissing]="userEditService.missingItem.password.isError" placeHolder="Type password"
                    missingText="Missing user name" label="Password:" class="user-details-main__item">
                </md-input-item>

                <md-input-item [(ngModel)]="userEditService.user.firstName"
                    [isError]="userEditService.missingItem.firstName.isError"
                    [isMissing]="userEditService.missingItem.firstName.isMissing" placeHolder="Type user’s first name"
                    missingText="Missing first name" label="First Name:" class="user-details-main__item">
                </md-input-item>

                <md-input-item [(ngModel)]="userEditService.user.lastName"
                    [isError]="userEditService.missingItem.lastName.isError"
                    [isMissing]="userEditService.missingItem.lastName.isError" placeHolder="Type user’s last name"
                    missingText="Missing last name" label="Last Name:" class="user-details-main__item">
                </md-input-item>
                <md-input-item type="email" [(ngModel)]="userEditService.user.email"
                    [isError]="userEditService.missingItem.email.isError"
                    [isMissing]="userEditService.missingItem.email.isError" placeHolder="user@domain.com"
                    missingText="Missing email" label="Email:" class="user-details-main__item"></md-input-item>
                <md-input-item type="text" [(ngModel)]="userEditService.user.phone" [isOptional]="true"
                    [isError]="false" placeHolder="+120-234-56789" label="Phone:" class="user-details-main__item">
                </md-input-item>
                <div class="user-details-main__item">
                    <div class="user-details-main__label">
                        <span class="user-details-main__label-text">Super Admin:</span></div>
                    <div class="user-details-main__field">
                        <mdc-toggle-button [(ngModel)]="userEditService.user.isSuperAdmin"></mdc-toggle-button>
                    </div>
                </div>
            </div>
            <div class="user-details-param" [hidden]="userEditService.user.isSuperAdmin">
                <div class="user-details-param__title">Select the environments that are accessible to the user:</div>
                <div class="user-details-param__content">
                    <div class="user-details-param__item"
                        *ngFor="let env of userEditService.environments;let i = index">
                        <div class="user-details-param__check">
                            <mdc-check-box [(ngModel)]="env.isChecked" [id]="'env' + i" [text]="env.projectName">
                            </mdc-check-box>
                        </div>

                        <div [hidden]="!env.isChecked" class="user-details-select">
                            <div class="user-details-select__label">Role:</div>
                            <mdc-select [(ngModel)]="env.role" [options]="roleOptions" [isSmall]="true">
                            </mdc-select>
                        </div>
                        <div [hidden]="!env.isChecked" class="user-details-select">
                            <div class="user-details-select__label">Allowed Data:</div>
                            <mdc-select (changed)="changedData($event,env)" [(ngModel)]="env.data" [options]="dataOptions"
                                [isSmall]="true">
                            </mdc-select>
                        </div>
                        <div [hidden]="!env.isChecked || env.data===2" class="user-details-select">
                            <span [hidden]="env.isShowAdvanced" (click)="showAdvanced($event,env)"
                                class="user-details-param__link">Advanced Settings</span>
                            <div [hidden]="!env.isShowAdvanced" class="user-details-select__label"> Coefficient:</div>
                            <mdc-select [hidden]="!env.isShowAdvanced" [(ngModel)]="env.kf"
                                [options]="coefficientOptions" [isSmall]="true">
                            </mdc-select>
                            <div [hidden]="!env.isShowAdvanced" class="user-details-select__icon">
                                <svg class="icon ic-info" mdcSvg="ic-info">
                                </svg><span class="tooltip tooltip_right">
                                    <span class="tooltip__content">This number
                                        prevents extreme results from influencing statistical analysis. The higher the
                                        value you choose, the more extreme values it overlooks.
                                    </span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="user-details__switch">
            <div class="user-details__label">Enabled</div>
            <mdc-toggle-button [(ngModel)]="userEditService.user.enabled"></mdc-toggle-button>
        </div>
    </div>
</div>