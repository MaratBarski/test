<md-chart-pdf #chartPdf [chart]="chart" [width]="pdfChartWidth" [height]="pdfChartHeight"></md-chart-pdf>

<ng-template #chart>
    <ngx-charts-bar-vertical [showGridLines]="true" [showZero]="false" [animations]="false" [roundEdges]="false"
        [rotateXAxisTicks]="false" [view]="view" [scheme]="colorScheme" [barPadding]="20"
        [results]="dataSource|generalChart" [gradient]="gradient" [xAxis]="showXAxis" [yAxis]="true"
        [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="false" [isShowYText]="false" [xAxisLabel]="xAxisLabel"
        [yAxisLabel]="true" [legend]="false" [showDataLabel]="true">
    </ngx-charts-bar-vertical>
</ng-template>

<section class="graph-wrap">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="graph">
                    <div class="graph__top">
                        <div class="graph__head">Active users<span class="graph__head-icon">
                                <svg class="icon ic-help" mdcSvg="ic-help"></svg>
                                <span class="tooltip tooltip_left" graphInfo.popup_status="">
                                    <span class="tooltip__content">Each bar represents the monthly number of users who
                                        created at least one new query or downloaded a file.</span>
                                </span>
                            </span>
                        </div>
                    </div>
                    <div [hidden]="(dataSource|generalChart).length || chartService.isLoading" class="graph-empty">
                        <div class="graph-empty__img"><img src="./assets/images/chart-empty-state.svg" alt=""
                                style="height: 160px;"></div>
                        <div class="graph-empty__text">No data, yet</div>
                    </div>
                    <div [hidden]="!(dataSource|generalChart).length && !chartService.isLoading" class="graph__content">
                        <div [hidden]="!chartService.isLoading">Loading...</div>
                        <div [mdcVisibility]="chartService.isLoaded" class="chart-wraper">
                            <ng-container [ngTemplateOutlet]="chart"></ng-container>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>