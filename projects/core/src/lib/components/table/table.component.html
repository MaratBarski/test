<table #tableObject mdcTable>
    <thead *ngIf="dataSource?.headers">
        <tr mdcTableHeader>
            <th *ngFor="let header of dataSource.headers|visibleHeaders;let index = index" [mdcTableItem]="index">
                <mdc-table-header *ngIf="!headersTemplate || !headersTemplate[header.columnId]" (onSort)="sort($event)"
                    (onApplyFilter)="onApplyFilter($event)" (onShowFilter)="onShowFilter()" (onFilter)="filter($event)" [model]="header"
                    [filterOptions]="filters[header.columnId]"></mdc-table-header>
                <ng-container *ngIf="headersTemplate && headersTemplate[header.columnId]"
                    [ngTemplateOutlet]="headersTemplate[header.columnId]"
                    [ngTemplateOutletContext]="{$implicit: header}"></ng-container>
            </th>
        </tr>
    </thead>
    <tbody *ngIf="rows?.length">
        <ng-container
            *ngFor="let row of rows|sortTable:sortModel|pagination:{currentPage:paginator?.currentPage,pageSize:paginator?.pageSize};let rowIndex = index">
            <tr (click)="infoRowClick($event)" class="row-info-container"
                *ngIf="(rowInfoTemplate && currentRowInfo===row)">
                <td class="row-info-sub-container" [attr.colspan]="(dataSource.headers|visibleHeaders).length">
                    <div id="{{tableID + 'row_' + rowIndex}}" class="row-info">
                        <mdc-row-info (onInit)="rowDetailsInit($event)" [componentID]="tableID + 'row_' + rowIndex">
                            <ng-container [ngTemplateOutlet]="rowInfoTemplate"
                                [ngTemplateOutletContext]="{$implicit: row}">
                            </ng-container>
                        </mdc-row-info>
                    </div>
                </td>
            </tr>
            <tr (click)="rowClick(row)" [ngClass]="{'active':row.isActive,'row-even':rowIndex%2===0}" mdcTableRow>
                <ng-container *ngFor="let header of dataSource.headers|visibleHeaders;let index = index">
                    <td [mdcTableItem]="index" (click)="showItemInfo(row,header,rowIndex,$event)">
                        <mdc-text-block [isLink]="header.showDetails"
                            *ngIf="!cellsTemplate || !cellsTemplate[header.columnId]" [maxWidth]="header.maxWidth||500"
                            text="{{row.cells[header.columnId]}}">
                        </mdc-text-block>
                        <ng-container *ngIf="cellsTemplate && cellsTemplate[header.columnId]"
                            [ngTemplateOutlet]="cellsTemplate[header.columnId]"
                            [ngTemplateOutletContext]="{$implicit: row.cells,source:row.source}">
                        </ng-container>
                    </td>
                </ng-container>
            </tr>
        </ng-container>
    </tbody>
</table>
<mdc-empty-state [emptyState]="emptyState" *ngIf="rows && !(rows.length)"></mdc-empty-state>